package app;

import java.awt.BorderLayout;
import java.awt.CardLayout;
import java.awt.Color;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

public class MenuResponsable extends JFrame implements ActionListener {
	
	private static final long serialVersionUID = 1L;
	private JPanel panel;
	private JPanel pBouton;
	private JPanel pMenuMacro;
	private JPanel pGM;
	private JLabel labNom;
	private JButton boutonGM;//Gestion Maintenance
	private JButton boutonGD;//Gestion Devis
	private JButton boutonGO;//Gestion Operateur
	private JButton boutonGC;//Gestion Client
	private JButton bReturn;
	private CardLayout card;
	private GridLayout gridBouton;
	int retour;

	
	public MenuResponsable(String nom, String prenom){
		panel = new JPanel();	
        pBouton = new JPanel();
        pMenuMacro = new JPanel();
        card = new CardLayout();
        gridBouton = new GridLayout(4,1,0,10);
        
        pMenuMacro.setLayout(gridBouton);
        pMenuMacro.setBackground(null);
        pBouton.setLayout(card);
        pBouton.setBackground(null);
        panel.setLayout(new java.awt.GridLayout(2,1));

        
        this.setDefaultCloseOperation(EXIT_ON_CLOSE);
        this.setTitle("Responsable");
        this.setSize(400,450);
        
        Color couleur1 = new Color(96,120,136);
		panel.setBackground(couleur1);
		
		//instantiation des composants graphique
		labNom = new JLabel("Bienvenu"+nom+" "+prenom);
		Color couleur2 = new Color(242,242,242);
		boutonGM = new JButton("Gestion Maintenance");
		boutonGM.setBackground(couleur2);
		boutonGD = new JButton("Gestion Devis");
		boutonGD.setBackground(couleur2);
		boutonGO = new JButton("Gestion Operateur");
		boutonGO.setBackground(couleur2);
		boutonGC = new JButton("Gestion Client");
		boutonGC.setBackground(couleur2);
		
		
		pMenuMacro.add(boutonGM);
		pMenuMacro.add(boutonGD);
		pMenuMacro.add(boutonGO);
		pMenuMacro.add(boutonGC);
		
		pBouton.add(pMenuMacro,"MenuMacro");
		card.show(pBouton, "MenuMacro");
		
		panel.add(labNom);
		panel.add(pBouton);
	
		
		//ajouter des ecouteurs sur les boutons pour gerer les evenements
		//boutonGM.addActionListener(this);
		boutonGM.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent evt){
				if (actionGM()==1){
					card.show(pBouton, "MenuMacro");
					retour=0;
				};
			}
		});
		
		boutonGD.addActionListener(this);
		boutonGO.addActionListener(this);
		boutonGC.addActionListener(this);
		
		
		//permet de quitter l'app si on ferme la fenetre
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		this.setContentPane(panel);
		this.setVisible(true);
	}
	
	public static void main(String[] args)
	{
		new MenuResponsable("YU", "Hong");
	}

	@Override
	public void actionPerformed(ActionEvent e) {

		try {
			/*if (e.getSource() == boutonGM) {
				actionGM();
			}*/
	}catch (Exception er) {
		JOptionPane.showMessageDialog(this,
				"Veuillez contrôler vos saisies", "Erreur",
				JOptionPane.ERROR_MESSAGE);
		System.err.println("Veuillez contrôler vos saisies");
	}
		
	
	
	}
	
	public int actionGM(){
		retour=0;
		pGM = new JPanel();
		gridBouton = new GridLayout(5,1,0,15);
		JLabel labGM = new JLabel("Gestion Maintenance");
		JButton bAjouter = new JButton("Ajouter");
		JButton bModifier = new JButton("Modifier");
		JButton bValider = new JButton("Valider");
		bReturn = new JButton("Return");
		
		pGM.setLayout(gridBouton);
		pGM.add(labGM);
		pGM.add(bAjouter);
		pGM.add(bModifier);
		pGM.add(bValider);
		pGM.add(bReturn);
		
		pBouton.add(pGM, "GM");
		card.show(pBouton, "GM");
		
		bReturn.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent evt){
		        retour=1;
		    }
		});
		return retour;
		
		
		
		
	}


}
